<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Registration</title>
    <script src="https://unpkg.com/htmx.org@1.7.0/dist/htmx.js"></script>
</head>
<body>

<form hx-post="{% url 'register_user' %}" hx-target="#registration-form">
    {% csrf_token %}
    
    <label for="id_country">Country:</label>
    <select id="id_country" name="country" hx-trigger="change" hx-get="{% url 'get_country_fields' %}?country={{ value }}">
        <option value="Default">Default</option>
        <option value="United States">United States</option>
        <option value="Georgia">Georgia</option>
    </select>

    <div id="registration-form" hx-swap="outerHTML">
        {% include 'registration_form_field.html' %}
    </div>

    <button type="submit">Register</button>
</form>

</body>
</html>